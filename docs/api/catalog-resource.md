---
title: カタログリソース、NuGet V3 API
description: カタログは、nuget.org で作成および削除されたすべてのパッケージのインデックスです。
author: joelverhagen
ms.author: jver
ms.date: 10/30/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 11485f583d6993919f6bb8acabcc87d9e4261975
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/26/2021
ms.locfileid: "98774162"
---
# <a name="catalog"></a><span data-ttu-id="dedd2-103">Catalog</span><span class="sxs-lookup"><span data-stu-id="dedd2-103">Catalog</span></span>

<span data-ttu-id="dedd2-104">**カタログ** は、作成や削除など、パッケージソースに対するすべてのパッケージ操作を記録するリソースです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-104">The **catalog** is a resource that records all package operations on a package source, such as creations and deletions.</span></span> <span data-ttu-id="dedd2-105">カタログリソースには、 `Catalog` [サービスインデックス](service-index.md)の型があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-105">The catalog resource has the `Catalog` type in the [service index](service-index.md).</span></span> <span data-ttu-id="dedd2-106">このリソースを使用して、公開され [ているすべてのパッケージを照会](../guides/api/query-for-all-published-packages.md)できます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-106">You can use this resource to [query for all published packages](../guides/api/query-for-all-published-packages.md).</span></span>

> [!Note]
> <span data-ttu-id="dedd2-107">カタログは公式の NuGet クライアントによって使用されないため、すべてのパッケージソースがカタログを実装するわけではありません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-107">Because the catalog is not used by the official NuGet client, not all package sources implement the catalog.</span></span>

> [!Note]
> <span data-ttu-id="dedd2-108">現時点では、nuget.org カタログは中国では使用できません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-108">Currently, the nuget.org catalog is not available in China.</span></span> <span data-ttu-id="dedd2-109">詳細については、「 [NuGet/NuGetGallery # 4949](https://github.com/NuGet/NuGetGallery/issues/4949)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="dedd2-109">For more details, see [NuGet/NuGetGallery#4949](https://github.com/NuGet/NuGetGallery/issues/4949).</span></span>

## <a name="versioning"></a><span data-ttu-id="dedd2-110">バージョン管理</span><span class="sxs-lookup"><span data-stu-id="dedd2-110">Versioning</span></span>

<span data-ttu-id="dedd2-111">次の `@type` 値が使用されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-111">The following `@type` value is used:</span></span>

<span data-ttu-id="dedd2-112">@type 値</span><span class="sxs-lookup"><span data-stu-id="dedd2-112">@type value</span></span>   | <span data-ttu-id="dedd2-113">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-113">Notes</span></span>
------------- | -----
<span data-ttu-id="dedd2-114">Catalog/3.0.0</span><span class="sxs-lookup"><span data-stu-id="dedd2-114">Catalog/3.0.0</span></span> | <span data-ttu-id="dedd2-115">最初のリリース</span><span class="sxs-lookup"><span data-stu-id="dedd2-115">The initial release</span></span>

## <a name="base-url"></a><span data-ttu-id="dedd2-116">ベース URL</span><span class="sxs-lookup"><span data-stu-id="dedd2-116">Base URL</span></span>

<span data-ttu-id="dedd2-117">次の Api のエントリポイント URL は、 `@id` 前述のリソース値に関連付けられているプロパティの値です `@type` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-117">The entry point URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` values.</span></span> <span data-ttu-id="dedd2-118">このトピックでは、プレースホルダー URL を使用 `{@id}` します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-118">This topic uses the placeholder URL `{@id}`.</span></span>

## <a name="http-methods"></a><span data-ttu-id="dedd2-119">HTTP メソッド</span><span class="sxs-lookup"><span data-stu-id="dedd2-119">HTTP methods</span></span>

<span data-ttu-id="dedd2-120">カタログリソース内のすべての Url では、HTTP メソッドとのみがサポートされ `GET` `HEAD` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-120">All URLs found in the catalog resource support only the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="catalog-index"></a><span data-ttu-id="dedd2-121">カタログインデックス</span><span class="sxs-lookup"><span data-stu-id="dedd2-121">Catalog index</span></span>

<span data-ttu-id="dedd2-122">カタログインデックスは、カタログアイテムのリストを時系列で並べた、既知の場所にあるドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-122">The catalog index is a document in a well-known location that has a list of catalog items, ordered chronologically.</span></span> <span data-ttu-id="dedd2-123">これは、カタログリソースのエントリポイントです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-123">It is the entry point of the catalog resource.</span></span>

<span data-ttu-id="dedd2-124">インデックスは、カタログページで構成されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-124">The index is comprised of catalog pages.</span></span> <span data-ttu-id="dedd2-125">各カタログページには、カタログアイテムが含まれています。</span><span class="sxs-lookup"><span data-stu-id="dedd2-125">Each catalog page contains catalog items.</span></span> <span data-ttu-id="dedd2-126">各カタログ項目は、特定の時点の1つのパッケージに関するイベントを表します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-126">Each catalog item represents an event concerning a single package at a point in time.</span></span> <span data-ttu-id="dedd2-127">カタログ項目は、パッケージソースから作成、一覧から削除、または一覧から削除されたパッケージを表すことができます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-127">A catalog item can represent a package that was created, unlisted, relisted, or deleted from the package source.</span></span> <span data-ttu-id="dedd2-128">カタログ項目を時間順に処理することにより、クライアントは、V3 パッケージソースに存在するすべてのパッケージの最新のビューを構築できます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-128">By processing the catalog items in chronological order, the client can build an up-to-date view of every package that exists on the V3 package source.</span></span>

<span data-ttu-id="dedd2-129">つまり、カタログ blob の階層構造は次のようになります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-129">In short, catalog blobs have the following hierarchical structure:</span></span>

- <span data-ttu-id="dedd2-130">**Index**: カタログのエントリポイント。</span><span class="sxs-lookup"><span data-stu-id="dedd2-130">**Index**: the entry point for the catalog.</span></span>
- <span data-ttu-id="dedd2-131">**Page**: カタログアイテムのグループ。</span><span class="sxs-lookup"><span data-stu-id="dedd2-131">**Page**: a grouping of catalog items.</span></span>
- <span data-ttu-id="dedd2-132">**リーフ**: 1 つのパッケージの状態のスナップショットであるカタログアイテムを表すドキュメント。</span><span class="sxs-lookup"><span data-stu-id="dedd2-132">**Leaf**: a document representing a catalog item, which is a snapshot of a single package's state.</span></span>

<span data-ttu-id="dedd2-133">各カタログオブジェクトには、項目が `commitTimeStamp` カタログに追加された日時を表すというプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-133">Each catalog object has a property called the `commitTimeStamp` representing when the item was added to the catalog.</span></span> <span data-ttu-id="dedd2-134">カタログアイテムは、コミットと呼ばれるバッチのカタログページに追加されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-134">Catalog items are added to a catalog page in batches called commits.</span></span> <span data-ttu-id="dedd2-135">同じコミット内のすべてのカタログ項目が同じコミットタイムスタンプ ( `commitTimeStamp` ) とコミット ID () を持っている `commitId` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-135">All catalog items in the same commit have the same commit timestamp (`commitTimeStamp`) and commit ID (`commitId`).</span></span> <span data-ttu-id="dedd2-136">同じコミットに配置されたカタログ項目は、パッケージソースで同じ時点に発生したイベントを表します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-136">Catalog items placed in the same commit represent events that happened around the same point in time on the package source.</span></span> <span data-ttu-id="dedd2-137">カタログのコミット内に順序がありません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-137">There is no ordering within a catalog commit.</span></span>

<span data-ttu-id="dedd2-138">各パッケージの ID とバージョンは一意であるため、1つのコミットに複数のカタログアイテムを配置することはできません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-138">Because each package ID and version is unique, there will never be more than one catalog item in a commit.</span></span> <span data-ttu-id="dedd2-139">これにより、1つのパッケージのカタログアイテムをコミットタイムスタンプに対して常に明確に並べ替えることができます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-139">This ensures that catalog items for a single package can always be unambiguously ordered with respect to commit timestamp.</span></span>

<span data-ttu-id="dedd2-140">1つのカタログに対して複数のコミットを行うことはできません `commitTimeStamp` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-140">There is never be more than one commit to the catalog per `commitTimeStamp`.</span></span> <span data-ttu-id="dedd2-141">言い換えると、は `commitId` と重複し `commitTimeStamp` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-141">In other words, the `commitId` is redundant with the `commitTimeStamp`.</span></span>

<span data-ttu-id="dedd2-142">パッケージ ID によってインデックスが作成される [パッケージメタデータリソース](registration-base-url-resource.md)とは異なり、カタログには時間によってのみインデックスが作成されます (クエリ可能)。</span><span class="sxs-lookup"><span data-stu-id="dedd2-142">In contrast to the [package metadata resource](registration-base-url-resource.md), which is indexed by package ID, the catalog is indexed (and queryable) only by time.</span></span>

<span data-ttu-id="dedd2-143">カタログアイテムは常に、単調に増加している順にカタログに追加されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-143">Catalog items are always added to the catalog in a monotonically increasing, chronological order.</span></span> <span data-ttu-id="dedd2-144">これは、カタログのコミットが time X に追加されると、X 以下の時間でカタログのコミットが追加されないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-144">This means that if a catalog commit is added at time X then no catalog commit will ever be added with a time less than or equal to X.</span></span>

<span data-ttu-id="dedd2-145">次の要求では、カタログインデックスをフェッチします。</span><span class="sxs-lookup"><span data-stu-id="dedd2-145">The following request fetches the catalog index.</span></span>

```
GET {@id}
```

<span data-ttu-id="dedd2-146">カタログインデックスは、次のプロパティを持つオブジェクトを含む JSON ドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-146">The catalog index is a JSON document that contains an object with the following properties:</span></span>

<span data-ttu-id="dedd2-147">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-147">Name</span></span>            | <span data-ttu-id="dedd2-148">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-148">Type</span></span>             | <span data-ttu-id="dedd2-149">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-149">Required</span></span> | <span data-ttu-id="dedd2-150">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-150">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="dedd2-151">commitId</span><span class="sxs-lookup"><span data-stu-id="dedd2-151">commitId</span></span>        | <span data-ttu-id="dedd2-152">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-152">string</span></span>           | <span data-ttu-id="dedd2-153">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-153">yes</span></span>      | <span data-ttu-id="dedd2-154">最新のコミットに関連付けられている一意の ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-154">A unique ID associated with the most recent commit</span></span>
<span data-ttu-id="dedd2-155">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="dedd2-155">commitTimeStamp</span></span> | <span data-ttu-id="dedd2-156">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-156">string</span></span>           | <span data-ttu-id="dedd2-157">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-157">yes</span></span>      | <span data-ttu-id="dedd2-158">最新のコミットのタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="dedd2-158">A timestamp of the most recent commit</span></span>
<span data-ttu-id="dedd2-159">count</span><span class="sxs-lookup"><span data-stu-id="dedd2-159">count</span></span>           | <span data-ttu-id="dedd2-160">整数 (integer)</span><span class="sxs-lookup"><span data-stu-id="dedd2-160">integer</span></span>          | <span data-ttu-id="dedd2-161">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-161">yes</span></span>      | <span data-ttu-id="dedd2-162">インデックス内のページ数</span><span class="sxs-lookup"><span data-stu-id="dedd2-162">The number of pages in the index</span></span>
<span data-ttu-id="dedd2-163">items</span><span class="sxs-lookup"><span data-stu-id="dedd2-163">items</span></span>           | <span data-ttu-id="dedd2-164">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="dedd2-164">array of objects</span></span> | <span data-ttu-id="dedd2-165">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-165">yes</span></span>      | <span data-ttu-id="dedd2-166">オブジェクトの配列。各オブジェクトはページを表します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-166">A array of objects, each object representing a page</span></span>

<span data-ttu-id="dedd2-167">配列の各要素 `items` は、各ページについて最小限の詳細を含むオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-167">Each element in the `items` array is an object with some minimal details about each page.</span></span> <span data-ttu-id="dedd2-168">これらのページオブジェクトには、カタログリーフ (items) は含まれません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-168">These page objects do not contain the catalog leaves (items).</span></span> <span data-ttu-id="dedd2-169">この配列内の要素の順序が定義されていません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-169">The order of the elements in this array is not defined.</span></span> <span data-ttu-id="dedd2-170">ページは、プロパティを使用して、メモリ内のクライアントによって並べ替えることができ `commitTimeStamp` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-170">Pages can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="dedd2-171">新しいページが導入されると、が `count` インクリメントされ、新しいオブジェクトが配列に表示され `items` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-171">As new pages are introduced, the `count` will be incremented and new objects will appear in the `items` array.</span></span>

<span data-ttu-id="dedd2-172">項目がカタログに追加されると、インデックスの `commitId` が変更され、が `commitTimeStamp` 増加します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-172">As items are added to the catalog, the index's `commitId` will change and the `commitTimeStamp` will increase.</span></span> <span data-ttu-id="dedd2-173">これら2つのプロパティは、基本的には `commitId` 、 `commitTimeStamp` 配列内のすべてのページと値の概要です `items` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-173">These two properties are essentially a summary over all page `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-page-object-in-the-index"></a><span data-ttu-id="dedd2-174">インデックス内のカタログページオブジェクト</span><span class="sxs-lookup"><span data-stu-id="dedd2-174">Catalog page object in the index</span></span>

<span data-ttu-id="dedd2-175">カタログインデックスのプロパティに存在するカタログページオブジェクトには `items` 、次のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-175">The catalog page objects found in the catalog index's `items` property have the following properties:</span></span>

<span data-ttu-id="dedd2-176">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-176">Name</span></span>            | <span data-ttu-id="dedd2-177">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-177">Type</span></span>    | <span data-ttu-id="dedd2-178">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-178">Required</span></span> | <span data-ttu-id="dedd2-179">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-179">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="dedd2-180">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-180">string</span></span>  | <span data-ttu-id="dedd2-181">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-181">yes</span></span>      | <span data-ttu-id="dedd2-182">[カタログをフェッチする URL] ページ</span><span class="sxs-lookup"><span data-stu-id="dedd2-182">The URL to fetch catalog page</span></span>
<span data-ttu-id="dedd2-183">commitId</span><span class="sxs-lookup"><span data-stu-id="dedd2-183">commitId</span></span>        | <span data-ttu-id="dedd2-184">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-184">string</span></span>  | <span data-ttu-id="dedd2-185">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-185">yes</span></span>      | <span data-ttu-id="dedd2-186">このページの最新のコミットに関連付けられている一意の ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-186">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="dedd2-187">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="dedd2-187">commitTimeStamp</span></span> | <span data-ttu-id="dedd2-188">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-188">string</span></span>  | <span data-ttu-id="dedd2-189">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-189">yes</span></span>      | <span data-ttu-id="dedd2-190">このページの最新のコミットのタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="dedd2-190">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="dedd2-191">count</span><span class="sxs-lookup"><span data-stu-id="dedd2-191">count</span></span>           | <span data-ttu-id="dedd2-192">整数 (integer)</span><span class="sxs-lookup"><span data-stu-id="dedd2-192">integer</span></span> | <span data-ttu-id="dedd2-193">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-193">yes</span></span>      | <span data-ttu-id="dedd2-194">[カタログ] ページの項目数</span><span class="sxs-lookup"><span data-stu-id="dedd2-194">The number of items in the catalog page</span></span>

<span data-ttu-id="dedd2-195">場合によっては、リーフがインデックスに残されることがある [パッケージメタデータリソース](registration-base-url-resource.md) とは対照的に、カタログリーフはインデックスにインライン化されず、常にページの URL を使用してフェッチされる必要があり `@id` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-195">In contrast to the [package metadata resource](registration-base-url-resource.md) which in some cases inlines leaves into the index, catalog leaves are never inlined into the index and must always be fetched by using the page's `@id` URL.</span></span>

### <a name="sample-request"></a><span data-ttu-id="dedd2-196">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-196">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/index.json
```

### <a name="sample-response"></a><span data-ttu-id="dedd2-197">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-197">Sample response</span></span>

[!code-JSON [catalog-index.json](./_data/catalog-index.json)]

## <a name="catalog-page"></a><span data-ttu-id="dedd2-198">[カタログ] ページ</span><span class="sxs-lookup"><span data-stu-id="dedd2-198">Catalog page</span></span>

<span data-ttu-id="dedd2-199">[カタログ] ページは、カタログアイテムのコレクションです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-199">The catalog page is a collection of catalog items.</span></span> <span data-ttu-id="dedd2-200">`@id`カタログインデックスで見つかった値のいずれかを使用してフェッチされたドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-200">It is a document fetched using one of the `@id` values found in the catalog index.</span></span> <span data-ttu-id="dedd2-201">カタログページの URL は予測可能ではないため、カタログインデックスのみを使用して検出する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-201">The URL to a catalog page is not intended to be predictable and should be discovered using only the catalog index.</span></span>

<span data-ttu-id="dedd2-202">新しいカタログ項目は、最大コミットタイムスタンプまたは新しいページに対してのみ、カタログインデックスのページに追加されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-202">New catalog items are added to the page in the catalog index only with the highest commit timestamp or to a new page.</span></span> <span data-ttu-id="dedd2-203">より高いコミットタイムスタンプを持つページがカタログに追加されると、古いページは追加または変更されません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-203">Once a page with a higher commit timestamp is added to the catalog, older pages are never added to or changed.</span></span>

<span data-ttu-id="dedd2-204">カタログページのドキュメントは、次のプロパティを持つ JSON オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-204">The catalog page document is a JSON object with the following properties:</span></span>

<span data-ttu-id="dedd2-205">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-205">Name</span></span>            | <span data-ttu-id="dedd2-206">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-206">Type</span></span>             | <span data-ttu-id="dedd2-207">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-207">Required</span></span> | <span data-ttu-id="dedd2-208">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-208">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="dedd2-209">commitId</span><span class="sxs-lookup"><span data-stu-id="dedd2-209">commitId</span></span>        | <span data-ttu-id="dedd2-210">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-210">string</span></span>           | <span data-ttu-id="dedd2-211">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-211">yes</span></span>      | <span data-ttu-id="dedd2-212">このページの最新のコミットに関連付けられている一意の ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-212">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="dedd2-213">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="dedd2-213">commitTimeStamp</span></span> | <span data-ttu-id="dedd2-214">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-214">string</span></span>           | <span data-ttu-id="dedd2-215">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-215">yes</span></span>      | <span data-ttu-id="dedd2-216">このページの最新のコミットのタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="dedd2-216">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="dedd2-217">count</span><span class="sxs-lookup"><span data-stu-id="dedd2-217">count</span></span>           | <span data-ttu-id="dedd2-218">整数 (integer)</span><span class="sxs-lookup"><span data-stu-id="dedd2-218">integer</span></span>          | <span data-ttu-id="dedd2-219">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-219">yes</span></span>      | <span data-ttu-id="dedd2-220">ページ内の項目数</span><span class="sxs-lookup"><span data-stu-id="dedd2-220">The number of items in the page</span></span>
<span data-ttu-id="dedd2-221">items</span><span class="sxs-lookup"><span data-stu-id="dedd2-221">items</span></span>           | <span data-ttu-id="dedd2-222">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="dedd2-222">array of objects</span></span> | <span data-ttu-id="dedd2-223">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-223">yes</span></span>      | <span data-ttu-id="dedd2-224">このページのカタログ項目</span><span class="sxs-lookup"><span data-stu-id="dedd2-224">The catalog items in this page</span></span>
<span data-ttu-id="dedd2-225">parent</span><span class="sxs-lookup"><span data-stu-id="dedd2-225">parent</span></span>          | <span data-ttu-id="dedd2-226">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-226">string</span></span>           | <span data-ttu-id="dedd2-227">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-227">yes</span></span>      | <span data-ttu-id="dedd2-228">カタログインデックスの URL</span><span class="sxs-lookup"><span data-stu-id="dedd2-228">A URL to the catalog index</span></span>

<span data-ttu-id="dedd2-229">配列の各要素 `items` は、カタログ項目に関する詳細情報を含むオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-229">Each element in the `items` array is an object with some minimal details about the catalog item.</span></span> <span data-ttu-id="dedd2-230">これらのアイテムオブジェクトには、カタログアイテムのすべてのデータが含まれていません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-230">These item objects do not contain all of the catalog item's data.</span></span> <span data-ttu-id="dedd2-231">ページの配列内の項目の順序が定義されて `items` いません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-231">The order of the items in the page's `items` array is not defined.</span></span> <span data-ttu-id="dedd2-232">項目は、プロパティを使用して、メモリ内のクライアントによって並べ替えることができ `commitTimeStamp` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-232">Items can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="dedd2-233">ページ内のカタログ項目の数は、サーバーの実装によって定義されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-233">The number of catalog items in a page is defined by server implementation.</span></span> <span data-ttu-id="dedd2-234">Nuget.org の場合、各ページには最大550個の項目がありますが、特定の時点での次のコミットバッチのサイズによっては、ページによって実際の数が小さくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-234">For nuget.org, there are at most 550 items in each page, although the actual number may be smaller for some pages depending on the size of the next commit batch at the point in time.</span></span>

<span data-ttu-id="dedd2-235">新しい項目が導入されると、 `count` がインクリメントされ、新しいカタログ項目オブジェクトが配列に表示され `items` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-235">As new items are introduced, the `count` is incremented and new catalog item objects appear in the `items` array.</span></span>

<span data-ttu-id="dedd2-236">項目がページに追加されると、 `commitId` 変更とが `commitTimeStamp` 増加します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-236">As items are added to the page, the `commitId` changes and the `commitTimeStamp` increases.</span></span> <span data-ttu-id="dedd2-237">これら2つのプロパティは、基本的に `commitId` 、 `commitTimeStamp` 配列内のすべての値と値の概要です `items` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-237">These two properties are essentially a summary over all `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-item-object-in-a-page"></a><span data-ttu-id="dedd2-238">ページ内のカタログアイテムオブジェクト</span><span class="sxs-lookup"><span data-stu-id="dedd2-238">Catalog item object in a page</span></span>

<span data-ttu-id="dedd2-239">カタログページのプロパティに存在するカタログアイテムオブジェクトには、 `items` 次のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-239">The catalog item objects found in the catalog page's `items` property have the following properties:</span></span>

<span data-ttu-id="dedd2-240">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-240">Name</span></span>            | <span data-ttu-id="dedd2-241">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-241">Type</span></span>    | <span data-ttu-id="dedd2-242">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-242">Required</span></span> | <span data-ttu-id="dedd2-243">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-243">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="dedd2-244">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-244">string</span></span>  | <span data-ttu-id="dedd2-245">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-245">yes</span></span>      | <span data-ttu-id="dedd2-246">カタログアイテムを取得するための URL</span><span class="sxs-lookup"><span data-stu-id="dedd2-246">The URL to fetch the catalog item</span></span>
@type           | <span data-ttu-id="dedd2-247">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-247">string</span></span>  | <span data-ttu-id="dedd2-248">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-248">yes</span></span>      | <span data-ttu-id="dedd2-249">カタログアイテムの種類</span><span class="sxs-lookup"><span data-stu-id="dedd2-249">The type of the catalog item</span></span>
<span data-ttu-id="dedd2-250">commitId</span><span class="sxs-lookup"><span data-stu-id="dedd2-250">commitId</span></span>        | <span data-ttu-id="dedd2-251">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-251">string</span></span>  | <span data-ttu-id="dedd2-252">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-252">yes</span></span>      | <span data-ttu-id="dedd2-253">このカタログアイテムに関連付けられているコミット ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-253">The commit ID associated with this catalog item</span></span>
<span data-ttu-id="dedd2-254">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="dedd2-254">commitTimeStamp</span></span> | <span data-ttu-id="dedd2-255">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-255">string</span></span>  | <span data-ttu-id="dedd2-256">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-256">yes</span></span>      | <span data-ttu-id="dedd2-257">このカタログ項目のコミットタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="dedd2-257">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="dedd2-258">nuget: id</span><span class="sxs-lookup"><span data-stu-id="dedd2-258">nuget:id</span></span>        | <span data-ttu-id="dedd2-259">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-259">string</span></span>  | <span data-ttu-id="dedd2-260">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-260">yes</span></span>      | <span data-ttu-id="dedd2-261">このリーフが関連付けられているパッケージ ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-261">The package ID that this leaf is related to</span></span>
<span data-ttu-id="dedd2-262">nuget: バージョン</span><span class="sxs-lookup"><span data-stu-id="dedd2-262">nuget:version</span></span>   | <span data-ttu-id="dedd2-263">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-263">string</span></span>  | <span data-ttu-id="dedd2-264">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-264">yes</span></span>      | <span data-ttu-id="dedd2-265">このリーフが関連付けられているパッケージのバージョン</span><span class="sxs-lookup"><span data-stu-id="dedd2-265">The package version that this leaf is related to</span></span>

<span data-ttu-id="dedd2-266">値は、 `@type` 次の2つの値のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-266">The `@type` value will be one of the following two values:</span></span>

1. <span data-ttu-id="dedd2-267">`nuget:PackageDetails`: これ `PackageDetails` は、カタログリーフドキュメントの型に対応します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-267">`nuget:PackageDetails`: this corresponds to `PackageDetails` type in the catalog leaf document.</span></span>
1. <span data-ttu-id="dedd2-268">`nuget:PackageDelete`: これは `PackageDelete` 、カタログリーフドキュメント内の型に対応します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-268">`nuget:PackageDelete`: this corresponds to the `PackageDelete` type in the catalog leaf document.</span></span>

<span data-ttu-id="dedd2-269">各型の意味の詳細については、以下の [対応する項目の種類](#item-types) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="dedd2-269">For more details about what each type means, see the [corresponding items type](#item-types) below.</span></span>

### <a name="sample-request"></a><span data-ttu-id="dedd2-270">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-270">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/page2926.json
```

### <a name="sample-response"></a><span data-ttu-id="dedd2-271">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-271">Sample response</span></span>

[!code-JSON [catalog-page.json](./_data/catalog-page.json)]

## <a name="catalog-leaf"></a><span data-ttu-id="dedd2-272">カタログリーフ</span><span class="sxs-lookup"><span data-stu-id="dedd2-272">Catalog leaf</span></span>

<span data-ttu-id="dedd2-273">カタログリーフには、特定の時点での特定のパッケージ ID とバージョンに関するメタデータが含まれます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-273">The catalog leaf contains metadata about a specific package ID and version at some point in time.</span></span> <span data-ttu-id="dedd2-274">これは、カタログページの値を使用してフェッチされたドキュメントです `@id` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-274">It is a document fetched using the `@id` value found in a catalog page.</span></span> <span data-ttu-id="dedd2-275">カタログリーフの URL は予測可能ではないため、カタログページのみを使用して検出する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-275">The URL to a catalog leaf is not intended to be predictable and should be discovered using only a catalog page.</span></span>

<span data-ttu-id="dedd2-276">カタログリーフドキュメントは、次のプロパティを持つ JSON オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-276">The catalog leaf document is a JSON object with the following properties:</span></span>

<span data-ttu-id="dedd2-277">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-277">Name</span></span>                    | <span data-ttu-id="dedd2-278">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-278">Type</span></span>                       | <span data-ttu-id="dedd2-279">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-279">Required</span></span> | <span data-ttu-id="dedd2-280">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-280">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
@type                   | <span data-ttu-id="dedd2-281">文字列または文字列の配列</span><span class="sxs-lookup"><span data-stu-id="dedd2-281">string or array of strings</span></span> | <span data-ttu-id="dedd2-282">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-282">yes</span></span>      | <span data-ttu-id="dedd2-283">カタログアイテムの種類です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-283">The type(s) of the catalog item</span></span>
<span data-ttu-id="dedd2-284">カタログ: commitId</span><span class="sxs-lookup"><span data-stu-id="dedd2-284">catalog:commitId</span></span>        | <span data-ttu-id="dedd2-285">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-285">string</span></span>                     | <span data-ttu-id="dedd2-286">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-286">yes</span></span>      | <span data-ttu-id="dedd2-287">このカタログアイテムに関連付けられているコミット ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-287">A commit ID associated with this catalog item</span></span>
<span data-ttu-id="dedd2-288">catalog: commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="dedd2-288">catalog:commitTimeStamp</span></span> | <span data-ttu-id="dedd2-289">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-289">string</span></span>                     | <span data-ttu-id="dedd2-290">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-290">yes</span></span>      | <span data-ttu-id="dedd2-291">このカタログ項目のコミットタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="dedd2-291">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="dedd2-292">id</span><span class="sxs-lookup"><span data-stu-id="dedd2-292">id</span></span>                      | <span data-ttu-id="dedd2-293">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-293">string</span></span>                     | <span data-ttu-id="dedd2-294">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-294">yes</span></span>      | <span data-ttu-id="dedd2-295">カタログアイテムのパッケージ ID</span><span class="sxs-lookup"><span data-stu-id="dedd2-295">The package ID of the catalog item</span></span>
<span data-ttu-id="dedd2-296">published</span><span class="sxs-lookup"><span data-stu-id="dedd2-296">published</span></span>               | <span data-ttu-id="dedd2-297">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-297">string</span></span>                     | <span data-ttu-id="dedd2-298">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-298">yes</span></span>      | <span data-ttu-id="dedd2-299">パッケージカタログアイテムの公開日</span><span class="sxs-lookup"><span data-stu-id="dedd2-299">The published date of the package catalog item</span></span>
<span data-ttu-id="dedd2-300">version</span><span class="sxs-lookup"><span data-stu-id="dedd2-300">version</span></span>                 | <span data-ttu-id="dedd2-301">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-301">string</span></span>                     | <span data-ttu-id="dedd2-302">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-302">yes</span></span>      | <span data-ttu-id="dedd2-303">カタログアイテムのパッケージバージョン</span><span class="sxs-lookup"><span data-stu-id="dedd2-303">The package version of the catalog item</span></span>

### <a name="item-types"></a><span data-ttu-id="dedd2-304">項目の種類</span><span class="sxs-lookup"><span data-stu-id="dedd2-304">Item types</span></span>

<span data-ttu-id="dedd2-305">プロパティは、 `@type` 文字列または文字列の配列です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-305">The `@type` property is a string or array of strings.</span></span> <span data-ttu-id="dedd2-306">便宜上、値が文字列の場合は、 `@type` サイズが1の任意の配列として処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-306">For convenience, if the `@type` value is a string, it should be treated as any array of size one.</span></span> <span data-ttu-id="dedd2-307">に使用できるすべての値が記載されているわけではありません `@type` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-307">Not all possible values for `@type` are documented.</span></span> <span data-ttu-id="dedd2-308">ただし、各カタログアイテムには、次の2つの文字列型の値のうち1つだけが含まれます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-308">However, each catalog item has exactly one of the two following string type values:</span></span>

1. <span data-ttu-id="dedd2-309">`PackageDetails`: パッケージメタデータのスナップショットを表します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-309">`PackageDetails`: represents a snapshot of package metadata</span></span>
1. <span data-ttu-id="dedd2-310">`PackageDelete`: 削除されたパッケージを表します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-310">`PackageDelete`: represents a package that was deleted</span></span>

### <a name="package-details-catalog-items"></a><span data-ttu-id="dedd2-311">パッケージの詳細カタログ項目</span><span class="sxs-lookup"><span data-stu-id="dedd2-311">Package details catalog items</span></span>

<span data-ttu-id="dedd2-312">種類がのカタログアイテムには、 `PackageDetails` 特定のパッケージ (ID とバージョンの組み合わせ) のパッケージメタデータのスナップショットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-312">Catalog items with the type `PackageDetails` contain a snapshot of package metadata for a specific package (ID and version combination).</span></span> <span data-ttu-id="dedd2-313">パッケージの詳細カタログ項目は、パッケージソースが次のいずれかのシナリオに遭遇したときに生成されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-313">A package details catalog item is produced when a package source encounters any of the following scenarios:</span></span>

1. <span data-ttu-id="dedd2-314">パッケージが **プッシュ** されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-314">A package is **pushed**.</span></span>
1. <span data-ttu-id="dedd2-315">パッケージが **一覧表示** されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-315">A package is **listed**.</span></span>
1. <span data-ttu-id="dedd2-316">パッケージが **一覧** から削除されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-316">A package is **unlisted**.</span></span>
1. <span data-ttu-id="dedd2-317">パッケージが **折り返し** されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-317">A package is **reflowed**.</span></span>

<span data-ttu-id="dedd2-318">パッケージのリフロー処理は、基本的に、パッケージ自体を変更せずに既存のパッケージの偽のプッシュを生成する管理用のジェスチャです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-318">A package reflow is an administrative gesture that essentially generates a fake push of an existing package with no changes to the package itself.</span></span> <span data-ttu-id="dedd2-319">Nuget.org では、カタログを使用するバックグラウンドジョブの1つでバグを修正した後に、リフロー処理が使用されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-319">On nuget.org, a reflow is used after fixing a bug in one of the background jobs which consume the catalog.</span></span>

<span data-ttu-id="dedd2-320">カタログ項目を使用しているクライアントは、どのシナリオでカタログ項目が生成されたかを判断することはできません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-320">Clients consuming the catalog items should not attempt to determine which of these scenarios produced the catalog item.</span></span> <span data-ttu-id="dedd2-321">代わりに、クライアントは、管理されたビューまたはインデックスを、カタログアイテムに含まれるメタデータで更新するだけです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-321">Instead, the client should simply update any maintained view or index with the metadata contained in the catalog item.</span></span> <span data-ttu-id="dedd2-322">さらに、重複または冗長なカタログアイテムは、適切に処理する必要があります (冪等)。</span><span class="sxs-lookup"><span data-stu-id="dedd2-322">Furthermore, duplicate or redundant catalog items should be handled gracefully (idempotently).</span></span>

<span data-ttu-id="dedd2-323">パッケージの詳細カタログアイテムには、 [すべてのカタログリーフに含まれる](#catalog-leaf)ものに加えて、次のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-323">Package details catalog items have the following properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="dedd2-324">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-324">Name</span></span>                    | <span data-ttu-id="dedd2-325">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-325">Type</span></span>                       | <span data-ttu-id="dedd2-326">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-326">Required</span></span> | <span data-ttu-id="dedd2-327">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-327">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
<span data-ttu-id="dedd2-328">作成者</span><span class="sxs-lookup"><span data-stu-id="dedd2-328">authors</span></span>                 | <span data-ttu-id="dedd2-329">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-329">string</span></span>                     | <span data-ttu-id="dedd2-330">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-330">no</span></span>       |
<span data-ttu-id="dedd2-331">created</span><span class="sxs-lookup"><span data-stu-id="dedd2-331">created</span></span>                 | <span data-ttu-id="dedd2-332">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-332">string</span></span>                     | <span data-ttu-id="dedd2-333">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-333">no</span></span>       | <span data-ttu-id="dedd2-334">パッケージが最初に作成されたときのタイムスタンプ。</span><span class="sxs-lookup"><span data-stu-id="dedd2-334">A timestamp of when the package was first created.</span></span> <span data-ttu-id="dedd2-335">フォールバックプロパティ: `published` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-335">Fallback property: `published`.</span></span>
<span data-ttu-id="dedd2-336">dependencyGroups</span><span class="sxs-lookup"><span data-stu-id="dedd2-336">dependencyGroups</span></span>        | <span data-ttu-id="dedd2-337">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="dedd2-337">array of objects</span></span>           | <span data-ttu-id="dedd2-338">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-338">no</span></span>       | <span data-ttu-id="dedd2-339">ターゲットフレームワーク ([パッケージメタデータリソースと同じ形式](registration-base-url-resource.md#package-dependency-group)) でグループ化されたパッケージの依存関係</span><span class="sxs-lookup"><span data-stu-id="dedd2-339">The dependencies of the package, grouped by target framework ([same format as the package metadata resource](registration-base-url-resource.md#package-dependency-group))</span></span>
<span data-ttu-id="dedd2-340">今後</span><span class="sxs-lookup"><span data-stu-id="dedd2-340">deprecation</span></span>             | <span data-ttu-id="dedd2-341">object</span><span class="sxs-lookup"><span data-stu-id="dedd2-341">object</span></span>                     | <span data-ttu-id="dedd2-342">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-342">no</span></span>       | <span data-ttu-id="dedd2-343">パッケージに関連付けられている非推奨 ([パッケージメタデータリソースと同じ形式](registration-base-url-resource.md#package-deprecation))</span><span class="sxs-lookup"><span data-stu-id="dedd2-343">The deprecation associated with the package ([same format as the package metadata resource](registration-base-url-resource.md#package-deprecation))</span></span>
<span data-ttu-id="dedd2-344">description</span><span class="sxs-lookup"><span data-stu-id="dedd2-344">description</span></span>             | <span data-ttu-id="dedd2-345">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-345">string</span></span>                     | <span data-ttu-id="dedd2-346">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-346">no</span></span>       |
<span data-ttu-id="dedd2-347">iconUrl</span><span class="sxs-lookup"><span data-stu-id="dedd2-347">iconUrl</span></span>                 | <span data-ttu-id="dedd2-348">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-348">string</span></span>                     | <span data-ttu-id="dedd2-349">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-349">no</span></span>       |
<span data-ttu-id="dedd2-350">isPrerelease</span><span class="sxs-lookup"><span data-stu-id="dedd2-350">isPrerelease</span></span>            | <span data-ttu-id="dedd2-351">boolean</span><span class="sxs-lookup"><span data-stu-id="dedd2-351">boolean</span></span>                    | <span data-ttu-id="dedd2-352">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-352">no</span></span>       | <span data-ttu-id="dedd2-353">パッケージのバージョンがプレリリースであるかどうか。</span><span class="sxs-lookup"><span data-stu-id="dedd2-353">Whether or not the package version is prerelease.</span></span> <span data-ttu-id="dedd2-354">はから検出でき `version` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-354">Can be detected from `version`.</span></span>
<span data-ttu-id="dedd2-355">language</span><span class="sxs-lookup"><span data-stu-id="dedd2-355">language</span></span>                | <span data-ttu-id="dedd2-356">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-356">string</span></span>                     | <span data-ttu-id="dedd2-357">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-357">no</span></span>       |
<span data-ttu-id="dedd2-358">licenseUrl</span><span class="sxs-lookup"><span data-stu-id="dedd2-358">licenseUrl</span></span>              | <span data-ttu-id="dedd2-359">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-359">string</span></span>                     | <span data-ttu-id="dedd2-360">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-360">no</span></span>       |
<span data-ttu-id="dedd2-361">一覧</span><span class="sxs-lookup"><span data-stu-id="dedd2-361">listed</span></span>                  | <span data-ttu-id="dedd2-362">boolean</span><span class="sxs-lookup"><span data-stu-id="dedd2-362">boolean</span></span>                    | <span data-ttu-id="dedd2-363">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-363">no</span></span>       | <span data-ttu-id="dedd2-364">パッケージが一覧表示されているかどうか</span><span class="sxs-lookup"><span data-stu-id="dedd2-364">Whether or not the package is listed</span></span>
<span data-ttu-id="dedd2-365">minClientVersion</span><span class="sxs-lookup"><span data-stu-id="dedd2-365">minClientVersion</span></span>        | <span data-ttu-id="dedd2-366">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-366">string</span></span>                     | <span data-ttu-id="dedd2-367">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-367">no</span></span>       |
<span data-ttu-id="dedd2-368">packageHash</span><span class="sxs-lookup"><span data-stu-id="dedd2-368">packageHash</span></span>             | <span data-ttu-id="dedd2-369">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-369">string</span></span>                     | <span data-ttu-id="dedd2-370">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-370">yes</span></span>      | <span data-ttu-id="dedd2-371">パッケージのハッシュ、[標準ベース 64](https://tools.ietf.org/html/rfc4648#section-4)を使用したエンコード</span><span class="sxs-lookup"><span data-stu-id="dedd2-371">The hash of the package, encoding using [standard base 64](https://tools.ietf.org/html/rfc4648#section-4)</span></span>
<span data-ttu-id="dedd2-372">packageHashAlgorithm</span><span class="sxs-lookup"><span data-stu-id="dedd2-372">packageHashAlgorithm</span></span>    | <span data-ttu-id="dedd2-373">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-373">string</span></span>                     | <span data-ttu-id="dedd2-374">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-374">yes</span></span>      |
<span data-ttu-id="dedd2-375">パッケージのパッケージ</span><span class="sxs-lookup"><span data-stu-id="dedd2-375">packageSize</span></span>             | <span data-ttu-id="dedd2-376">integer</span><span class="sxs-lookup"><span data-stu-id="dedd2-376">integer</span></span>                    | <span data-ttu-id="dedd2-377">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-377">yes</span></span>      | <span data-ttu-id="dedd2-378">パッケージのサイズ。 nupkg (バイト単位)</span><span class="sxs-lookup"><span data-stu-id="dedd2-378">The size of the package .nupkg in bytes</span></span>
<span data-ttu-id="dedd2-379">packageTypes</span><span class="sxs-lookup"><span data-stu-id="dedd2-379">packageTypes</span></span>            | <span data-ttu-id="dedd2-380">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="dedd2-380">array of objects</span></span>           | <span data-ttu-id="dedd2-381">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-381">no</span></span>       | <span data-ttu-id="dedd2-382">作成者によって指定されたパッケージの種類。</span><span class="sxs-lookup"><span data-stu-id="dedd2-382">The package types specified by the author.</span></span>
<span data-ttu-id="dedd2-383">projectUrl</span><span class="sxs-lookup"><span data-stu-id="dedd2-383">projectUrl</span></span>              | <span data-ttu-id="dedd2-384">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-384">string</span></span>                     | <span data-ttu-id="dedd2-385">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-385">no</span></span>       |
<span data-ttu-id="dedd2-386">releaseNotes</span><span class="sxs-lookup"><span data-stu-id="dedd2-386">releaseNotes</span></span>            | <span data-ttu-id="dedd2-387">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-387">string</span></span>                     | <span data-ttu-id="dedd2-388">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-388">no</span></span>       |
<span data-ttu-id="dedd2-389">requireLicenseAgreement</span><span class="sxs-lookup"><span data-stu-id="dedd2-389">requireLicenseAgreement</span></span> | <span data-ttu-id="dedd2-390">boolean</span><span class="sxs-lookup"><span data-stu-id="dedd2-390">boolean</span></span>                    | <span data-ttu-id="dedd2-391">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-391">no</span></span>       | <span data-ttu-id="dedd2-392">`false`除外するかどうかを仮定</span><span class="sxs-lookup"><span data-stu-id="dedd2-392">Assume `false` if excluded</span></span>
<span data-ttu-id="dedd2-393">まとめ</span><span class="sxs-lookup"><span data-stu-id="dedd2-393">summary</span></span>                 | <span data-ttu-id="dedd2-394">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-394">string</span></span>                     | <span data-ttu-id="dedd2-395">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-395">no</span></span>       |
<span data-ttu-id="dedd2-396">tags</span><span class="sxs-lookup"><span data-stu-id="dedd2-396">tags</span></span>                    | <span data-ttu-id="dedd2-397">文字列の配列</span><span class="sxs-lookup"><span data-stu-id="dedd2-397">array of strings</span></span>           | <span data-ttu-id="dedd2-398">いいえ</span><span class="sxs-lookup"><span data-stu-id="dedd2-398">no</span></span>       |
<span data-ttu-id="dedd2-399">title</span><span class="sxs-lookup"><span data-stu-id="dedd2-399">title</span></span>                   | <span data-ttu-id="dedd2-400">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-400">string</span></span>                     | <span data-ttu-id="dedd2-401">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-401">no</span></span>       |
<span data-ttu-id="dedd2-402">verbatimVersion</span><span class="sxs-lookup"><span data-stu-id="dedd2-402">verbatimVersion</span></span>         | <span data-ttu-id="dedd2-403">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-403">string</span></span>                     | <span data-ttu-id="dedd2-404">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-404">no</span></span>       | <span data-ttu-id="dedd2-405">最初に見つかったバージョン文字列は. nuspec にあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-405">The version string as it's originally found in the .nuspec</span></span>

<span data-ttu-id="dedd2-406">パッケージ `version` プロパティは、正規化後の完全なバージョン文字列です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-406">The package `version` property is the full version string after normalization.</span></span> <span data-ttu-id="dedd2-407">これは、ここに SemVer 2.0.0 build データを含めることができることを意味します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-407">This means that SemVer 2.0.0 build data can be included here.</span></span>

<span data-ttu-id="dedd2-408">`created`タイムスタンプとは、パッケージソースが最初にパッケージを受信したときのことです。通常は、カタログアイテムのコミットタイムスタンプよりも短い時間です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-408">The `created` timestamp is when the package was first received by the package source, which is typically a short time before the catalog item's commit timestamp.</span></span>

<span data-ttu-id="dedd2-409">は `packageHashAlgorithm` 、の生成に使用されるハッシュアルゴリズムを表すサーバー実装によって定義される文字列です `packageHash` 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-409">The `packageHashAlgorithm` is a string defined by the server implementation representing the hashing algorithm used to produce the `packageHash`.</span></span> <span data-ttu-id="dedd2-410">nuget.org は、常にの値を使用し `packageHashAlgorithm` `SHA512` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-410">nuget.org always used the `packageHashAlgorithm` value of `SHA512`.</span></span>

<span data-ttu-id="dedd2-411">プロパティは、 `packageTypes` パッケージの種類が作成者によって指定された場合にのみ存在します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-411">The `packageTypes` property will only be present if a package type was specified by the author.</span></span> <span data-ttu-id="dedd2-412">存在する場合は、常に1つ以上のエントリが含まれます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-412">If it is present, it will always have at least one (1) entry.</span></span> <span data-ttu-id="dedd2-413">配列内の各項目 `packageTypes` は、次のプロパティを持つ JSON オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-413">Each item in the `packageTypes` array is a JSON object with the following properties:</span></span>

<span data-ttu-id="dedd2-414">名前</span><span class="sxs-lookup"><span data-stu-id="dedd2-414">Name</span></span>      | <span data-ttu-id="dedd2-415">Type</span><span class="sxs-lookup"><span data-stu-id="dedd2-415">Type</span></span>    | <span data-ttu-id="dedd2-416">必須</span><span class="sxs-lookup"><span data-stu-id="dedd2-416">Required</span></span> | <span data-ttu-id="dedd2-417">Notes</span><span class="sxs-lookup"><span data-stu-id="dedd2-417">Notes</span></span>
--------- | ------- | -------- | -----
<span data-ttu-id="dedd2-418">name</span><span class="sxs-lookup"><span data-stu-id="dedd2-418">name</span></span>      | <span data-ttu-id="dedd2-419">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-419">string</span></span>  | <span data-ttu-id="dedd2-420">はい</span><span class="sxs-lookup"><span data-stu-id="dedd2-420">yes</span></span>      | <span data-ttu-id="dedd2-421">パッケージの種類の名前。</span><span class="sxs-lookup"><span data-stu-id="dedd2-421">The name of the package type.</span></span>
<span data-ttu-id="dedd2-422">version</span><span class="sxs-lookup"><span data-stu-id="dedd2-422">version</span></span>    | <span data-ttu-id="dedd2-423">string</span><span class="sxs-lookup"><span data-stu-id="dedd2-423">string</span></span>  | <span data-ttu-id="dedd2-424">no</span><span class="sxs-lookup"><span data-stu-id="dedd2-424">no</span></span>       | <span data-ttu-id="dedd2-425">パッケージの種類のバージョンです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-425">The version of the package type.</span></span> <span data-ttu-id="dedd2-426">作成者が明示的に nuspec 内のバージョンを指定した場合にのみ存在します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-426">Only present if the author explicitly specified a version in the nuspec.</span></span>

<span data-ttu-id="dedd2-427">`published`タイムスタンプは、パッケージが最後に表示された時刻です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-427">The `published` timestamp is the time when the package was last listed.</span></span>

> [!Note]
> <span data-ttu-id="dedd2-428">Nuget.org の場合、 `published` パッケージが一覧から削除されると、値は1900年に設定されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-428">On nuget.org, the `published` value is set to the year 1900 when the package is unlisted.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="dedd2-429">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-429">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/data/2015.02.01.11.18.40/windowsazure.storage.1.0.0.json
```

#### <a name="sample-response"></a><span data-ttu-id="dedd2-430">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-430">Sample response</span></span>

[!code-JSON [catalog-package-details.json](./_data/catalog-package-details.json)]

### <a name="package-delete-catalog-items"></a><span data-ttu-id="dedd2-431">カタログアイテムの削除のパッケージ化</span><span class="sxs-lookup"><span data-stu-id="dedd2-431">Package delete catalog items</span></span>

<span data-ttu-id="dedd2-432">この種類のカタログアイテムには、パッケージ `PackageDelete` がパッケージソースから削除され、どのパッケージ操作でも利用できなくなったことをカタログクライアントに示す最小限の情報セットが含まれています (復元など)。</span><span class="sxs-lookup"><span data-stu-id="dedd2-432">Catalog items with the type `PackageDelete` contain a minimal set of information indicating to catalog clients that a package has been deleted from the package source and is no longer available for any package operation (such as restore).</span></span>

> [!NOTE]
> <span data-ttu-id="dedd2-433">パッケージが削除され、後から同じパッケージ ID とバージョンを使用して再発行される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-433">It is possible for a package to be deleted and later republished using the same package ID and version.</span></span> <span data-ttu-id="dedd2-434">Nuget.org では、これは非常にまれなケースです。これは、パッケージ ID とバージョンが特定のパッケージコンテンツを暗示しているという公式のクライアントの前提が壊れるためです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-434">On nuget.org, this is a very rare case as it breaks the official client's assumption that a package ID and version imply a specific package content.</span></span> <span data-ttu-id="dedd2-435">Nuget.org でのパッケージ削除の詳細については、 [ポリシー](../nuget-org/policies/deleting-packages.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="dedd2-435">For more information about package deletion on nuget.org, see [our policy](../nuget-org/policies/deleting-packages.md).</span></span>

<span data-ttu-id="dedd2-436">パッケージの削除カタログアイテムには、 [すべてのカタログリーフに含まれる](#catalog-leaf)ものに加えて、追加のプロパティはありません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-436">Package delete catalog items have no additional properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="dedd2-437">`version`プロパティは、nuspec で見つかった元のバージョン文字列です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-437">The `version` property is the original version string found in the package .nuspec.</span></span>

<span data-ttu-id="dedd2-438">プロパティは、 `published` パッケージが削除された時刻です。通常は、カタログアイテムのコミットタイムスタンプよりも短い時間です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-438">The `published` property is the time when package was deleted, which is typically as short time before the catalog item's commit timestamp.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="dedd2-439">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-439">Sample request</span></span>

```
GET https://api.nuget.org/v3/catalog0/data/2017.11.02.00.40.00/netstandard1.4_lib.1.0.0-test.json
```

#### <a name="sample-response"></a><span data-ttu-id="dedd2-440">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="dedd2-440">Sample response</span></span>

[!code-JSON [catalog-package-delete.json](./_data/catalog-package-delete.json)]

## <a name="cursor"></a><span data-ttu-id="dedd2-441">カーソル</span><span class="sxs-lookup"><span data-stu-id="dedd2-441">Cursor</span></span>

### <a name="overview"></a><span data-ttu-id="dedd2-442">概要</span><span class="sxs-lookup"><span data-stu-id="dedd2-442">Overview</span></span>

<span data-ttu-id="dedd2-443">このセクションでは、クライアントの概念について説明します。ただし、必ずしもプロトコルによって義務付けられるわけではありませんが、実用的なカタログクライアントの実装に含まれる必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-443">This section describes a client concept that, although is not necessarily mandated by the protocol, should be part of any practical catalog client implementation.</span></span>

<span data-ttu-id="dedd2-444">カタログは、時間によってインデックス付けされた追加専用のデータ構造であるため、クライアントがカタログ項目を処理した時点を表すローカルの **カーソル** をローカルに格納する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-444">Because the catalog is an append-only data structure indexed by time, the client should store a **cursor** locally, representing up to what point in time the client has processed catalog items.</span></span> <span data-ttu-id="dedd2-445">このカーソル値は、クライアントのコンピュータークロックを使用して生成することはできません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-445">Note that this cursor value should never be generated using the client's machine clock.</span></span> <span data-ttu-id="dedd2-446">代わりに、値はカタログオブジェクトの値から取得する必要があり `commitTimestamp` ます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-446">Instead, the value should come from a catalog object's `commitTimestamp` value.</span></span>

<span data-ttu-id="dedd2-447">クライアントは、パッケージソースの新しいイベントを処理するたびに、格納されているカーソルよりも高いコミットタイムスタンプを持つすべてのカタログアイテムのカタログに対してのみクエリを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-447">Every time the client wants to process new events on the package source, it need only query the catalog for all catalog items with a commit timestamp greater than its stored cursor.</span></span> <span data-ttu-id="dedd2-448">クライアントは、すべての新しいカタログアイテムを正常に処理した後、新しいカーソル値として処理されたばかりのカタログアイテムの最新のコミットタイムスタンプを記録します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-448">After the client successfully processes all new catalog items, it records the latest commit timestamp of catalog items just processed as its new cursor value.</span></span>

<span data-ttu-id="dedd2-449">この方法を使用すると、クライアントは、パッケージソースで発生したパッケージイベントを見逃さないようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-449">Using this approach, the client can be sure to never miss any package events that occurred on the package source.</span></span>
<span data-ttu-id="dedd2-450">また、クライアントは、カーソルの記録されたコミットタイムスタンプの前に古いイベントを再処理する必要がありません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-450">Additionally, the client never has to reprocess old events prior to the cursor's recorded commit timestamp.</span></span>

<span data-ttu-id="dedd2-451">このようなカーソルの強力な概念は、多くの nuget.org バックグラウンドジョブで使用され、V3 API 自体を最新の状態に保つために使用されます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-451">This powerful concept of cursors is used for many of nuget.org background jobs and is used to keep the V3 API itself up-to-date.</span></span> 

### <a name="initial-value"></a><span data-ttu-id="dedd2-452">初期値</span><span class="sxs-lookup"><span data-stu-id="dedd2-452">Initial value</span></span>

<span data-ttu-id="dedd2-453">カタログクライアントが初めて起動したとき (つまり、カーソル値がない場合) は、の既定のカーソル値を使用する必要があります。 `System.DateTimeOffset.MinValue` または、表現可能な最小のタイムスタンプと同様の概念です。</span><span class="sxs-lookup"><span data-stu-id="dedd2-453">When the catalog client is starting for the very first time (and therefore has no cursor value), it should use a default cursor value of .NET's `System.DateTimeOffset.MinValue` or some such analogous notion of minimum representable timestamp.</span></span>

### <a name="iterating-over-catalog-items"></a><span data-ttu-id="dedd2-454">カタログアイテムの反復処理</span><span class="sxs-lookup"><span data-stu-id="dedd2-454">Iterating over catalog items</span></span>

<span data-ttu-id="dedd2-455">処理する次のカタログ項目のセットを照会するには、クライアントは次のことを行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-455">To query for the next set of catalog items to process, the client should:</span></span>

1. <span data-ttu-id="dedd2-456">ローカルストアから記録されたカーソル値を取得します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-456">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="dedd2-457">カタログインデックスをダウンロードして逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-457">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="dedd2-458">コミットタイムスタンプがカーソル *より大きい* すべてのカタログページを検索します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-458">Find all catalog pages with a commit timestamp *greater than* the cursor.</span></span>
1. <span data-ttu-id="dedd2-459">処理するカタログアイテムの空のリストを宣言します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-459">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="dedd2-460">手順3で一致した各カタログページ:</span><span class="sxs-lookup"><span data-stu-id="dedd2-460">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="dedd2-461">カタログページをダウンロードし、逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-461">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="dedd2-462">コミットタイムスタンプがカーソル *より大きい* すべてのカタログアイテムを検索します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-462">Find all catalog items with a commit timestamp *greater than* the cursor.</span></span>
   1. <span data-ttu-id="dedd2-463">一致するすべてのカタログ項目を、手順 4. で宣言したリストに追加します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-463">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="dedd2-464">コミットタイムスタンプを使って、カタログアイテムの一覧を並べ替えます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-464">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="dedd2-465">各カタログ項目を順番に処理します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-465">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="dedd2-466">カタログ項目をダウンロードして逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-466">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="dedd2-467">カタログ項目の種類に適切に対応します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-467">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="dedd2-468">クライアント固有の方法でカタログ項目ドキュメントを処理します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-468">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="dedd2-469">最後のカタログ項目のコミットタイムスタンプを新しいカーソル値として記録します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-469">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="dedd2-470">この基本アルゴリズムを使用すると、クライアント実装は、パッケージソースで使用可能なすべてのパッケージの完全なビューを構築できます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-470">With this basic algorithm, the client implementation can build up a complete view of all packages available on the package source.</span></span> <span data-ttu-id="dedd2-471">クライアントは、パッケージソースに対する最新の変更を常に認識するために、このアルゴリズムを定期的に実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-471">The client need only execute this algorithm periodically to always be aware of the latest changes to the package source.</span></span>

> [!Note]
> <span data-ttu-id="dedd2-472">これは、nuget.org が [パッケージメタデータ](registration-base-url-resource.md)、 [パッケージコンテンツ](package-base-address-resource.md)、 [検索](search-query-service-resource.md) 、および [オートコンプリート](search-autocomplete-service-resource.md) リソースを最新の状態に保つために使用するアルゴリズムです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-472">This is the algorithm that nuget.org uses to keep the [Package Metadata](registration-base-url-resource.md), [Package Content](package-base-address-resource.md), [Search](search-query-service-resource.md) and [Autocomplete](search-autocomplete-service-resource.md) resources up to date.</span></span>

### <a name="dependent-cursors"></a><span data-ttu-id="dedd2-473">依存カーソル</span><span class="sxs-lookup"><span data-stu-id="dedd2-473">Dependent cursors</span></span>

<span data-ttu-id="dedd2-474">1つのクライアントの出力が別のクライアントの出力に依存する、固有の依存関係を持つ2つのカタログクライアントがあるとします。</span><span class="sxs-lookup"><span data-stu-id="dedd2-474">Suppose there are two catalog clients that have an inherent dependency where one client's output depends on another client's output.</span></span> 

#### <a name="example"></a><span data-ttu-id="dedd2-475">例</span><span class="sxs-lookup"><span data-stu-id="dedd2-475">Example</span></span>

<span data-ttu-id="dedd2-476">たとえば、nuget.org では、新しく発行されたパッケージは、パッケージメタデータリソースに表示される前に、検索リソースに表示されません。</span><span class="sxs-lookup"><span data-stu-id="dedd2-476">For example, on nuget.org a newly published package should not appear in the search resource before it appears in the package metadata resource.</span></span> <span data-ttu-id="dedd2-477">これは、公式の NuGet クライアントによって実行される "復元" 操作によってパッケージメタデータリソースが使用されるためです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-477">This is because the "restore" operation performed by the official NuGet client uses the package metadata resource.</span></span> <span data-ttu-id="dedd2-478">顧客が search サービスを使用してパッケージを検出した場合、パッケージメタデータリソースを使用してパッケージを正常に復元できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-478">If a customer discovers a package using the search service, they should be able to successfully restore that package using the package metadata resource.</span></span> <span data-ttu-id="dedd2-479">つまり、検索リソースは、パッケージメタデータリソースに依存します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-479">In other words, the search resource depends on the package metadata resource.</span></span> <span data-ttu-id="dedd2-480">各リソースには、そのリソースを更新するカタログクライアントのバックグラウンドジョブがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-480">Each resource has a catalog client background job updating that resource.</span></span> <span data-ttu-id="dedd2-481">各クライアントには専用のカーソルがあります。</span><span class="sxs-lookup"><span data-stu-id="dedd2-481">Each client has its own cursor.</span></span>

<span data-ttu-id="dedd2-482">両方のリソースがカタログから構築されるため、検索リソースを更新するカタログクライアントのカーソルは、パッケージメタデータカタログクライアントのカーソルを越えることは *できません* 。</span><span class="sxs-lookup"><span data-stu-id="dedd2-482">Since both resources are built off of the catalog, the cursor of the catalog client that updates the search resource *must not go beyond* the cursor of the package metadata catalog client.</span></span>

#### <a name="algorithm"></a><span data-ttu-id="dedd2-483">アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="dedd2-483">Algorithm</span></span>

<span data-ttu-id="dedd2-484">この制限を実装するには、上記のアルゴリズムを次のように変更するだけです。</span><span class="sxs-lookup"><span data-stu-id="dedd2-484">To implement this restriction, simply modify the algorithm above to be:</span></span>

1. <span data-ttu-id="dedd2-485">ローカルストアから記録されたカーソル値を取得します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-485">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="dedd2-486">カタログインデックスをダウンロードして逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-486">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="dedd2-487">**依存関係のカーソル** 以下のカーソル *よりも大きい* コミットタイムスタンプを持つすべてのカタログページを検索します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-487">Find all catalog pages with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
1. <span data-ttu-id="dedd2-488">処理するカタログアイテムの空のリストを宣言します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-488">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="dedd2-489">手順3で一致した各カタログページ:</span><span class="sxs-lookup"><span data-stu-id="dedd2-489">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="dedd2-490">カタログページをダウンロードし、逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-490">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="dedd2-491">**依存関係のカーソルよりも小さいか等しい** カーソル *よりも大きい* コミットタイムスタンプを持つすべてのカタログアイテムを検索します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-491">Find all catalog items with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
   1. <span data-ttu-id="dedd2-492">一致するすべてのカタログ項目を、手順 4. で宣言したリストに追加します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-492">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="dedd2-493">コミットタイムスタンプを使って、カタログアイテムの一覧を並べ替えます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-493">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="dedd2-494">各カタログ項目を順番に処理します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-494">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="dedd2-495">カタログ項目をダウンロードして逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-495">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="dedd2-496">カタログ項目の種類に適切に対応します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-496">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="dedd2-497">クライアント固有の方法でカタログ項目ドキュメントを処理します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-497">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="dedd2-498">最後のカタログ項目のコミットタイムスタンプを新しいカーソル値として記録します。</span><span class="sxs-lookup"><span data-stu-id="dedd2-498">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="dedd2-499">この変更されたアルゴリズムを使用して、依存するカタログクライアントのシステムを構築して、独自のインデックス、アーティファクトなどを生成することができます。</span><span class="sxs-lookup"><span data-stu-id="dedd2-499">Using this modified algorithm, you can build a system of dependent catalog clients all producing their own specific indexes, artifacts, etc.</span></span>
